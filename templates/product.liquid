<div class="s130F_item_details_section s130F_universl">
  <!-- s130F_item_details_area -->
  <div class="s130F_item_details_area">
    <div class="s130F_container">
      <div class="s130F_item_details_content">
        <!-- s130F_item_details_left_content -->
        <div class="s130F_item_details_left_content">
          <!-- s130F_large_item_image -->
          <div class="s130F_large_item_image">
            {% if product.selected_or_first_available_variant.featured_image %}
              {% assign featured = product.selected_or_first_available_variant.featured_image %}
              <img
                id="display_img"
                src="{{ featured |  img_url: 'master' }}"
                alt="{{ product.title }}"
              >
            {%- else -%}
              {% assign featured = product.featured_image %}
              <img src="{{ product.featured_image |  img_url: 'master'}}" alt="">
            {% endif %}
          </div>
          <!-- s130F_gallery_image_wrapper -->
          <div class="s130F_gallery_image_wrapper">
            <div class="s130F_gallery_image">
              {% for image in product.images %}
                <div class="s0210_single_image {% if image == featured %} img_select {% endif %}">
                  <img class="galary_img" src="{{ image.src |  img_url: 'master' }}" alt="{{ product.title }}">
                </div>
              {% endfor %}
            </div>
          </div>
        </div>
        <!-- s130F_item_details_right_content -->
        <div class="s130F_item_details_right_content">
          <div class="s130F_item_content_area">
            <!-- s130F_product_name_wrapper -->
            <div class="s130F_product_name_wrapper">
              <p class="s130F_product_name_txt">{{ product.title }}</p>
            </div>
            <!-- s130F_product_review_area -->
            <div class="s130F_product_review_area">
              <span class="s130F_product_review_number">{{ product.vendor }}</span>
            </div>
            <!-- s130F_product_price_wrapper -->
            <div class="s130F_product_price_wrapper">
              <div class="s1308_product_price_wrapper">
                <span class="s1308_product_price s1308_product_present_price">
                  <p class="product_price">
                    {{ product.selected_or_first_available_variant.price | money_with_currency }}
                  </p>
                  <p>
                    <del class="compare_price">
                      {{- product.selected_or_first_available_variant.compare_at_price | money_with_currency -}}
                    </del>
                  </p>
                </span>
              </div>
            </div>

            {% form 'product', product %}
              <input
                id="product_variant_id"
                type="hidden"
                name="id"
                value="{{ product.selected_or_first_available_variant.id }}"
              >
              <!-- s130F_product_variation_wrapper -->
              {%- unless product.has_only_default_variant -%}
                <div class="s130F_product_variation_wrapper">
                  <div class="s130F_product_variation_title_wrapper">
                    <p class="s130F_product_variation_title">Select Variation</p>
                  </div>
                  <fieldset>
                    {% for option in product.options_with_values %}
                      <legend>{{ option.name }}</legend>
                      <div class="product_option">
                        {% for value in option.values %}
                          <input
                            type="radio"
                            name="{{option.name}}"
                            id="{{ option.name }} - {{ value }}"
                            value="{{ value }}"
                            {%- if option.selected_value == value -%}
                              checked
                            {%- endif -%}
                          >
                          <label for="{{ option.name }} - {{ value }}" value="{{ value }}">{{ value }}</label>
                        {% endfor %}
                      </div>
                    {% endfor %}
                  </fieldset>
                </div>
              {%- endunless -%}
             
              {%- render 'quantity' -%}
              <!-- s130F_cart_btn_and_wishlist_icon_wrapper -->
              <div class="s130F_cart_btn_and_wishlist_icon_wrapper">
                <button type="submit" value="Add to cart" style="color:white" type="button" class="s130F_cart_btn">
                  Add to Cart
                </button>
                <button style="color:white;" type="button" class="s130F_cart_btn">{{ form | payment_button }}</button>
              </div>
            {% endform %}
            <!-- s130F_product_return_policy_wrapper -->
            <div class="s130F_product_return_policy_wrapper">
              <p class="s130F_product_return_policy">{{ product.metafields.custom.estimated_delivery }}</p>
            </div>
            <!-- s130F_product_share_media_wrapper -->
            <div class="s130F_product_share_media_wrapper">
              <div class="s130F_share_media_title_wrapper">
                <p class="s130F_share_media_title">Share Via</p>
              </div>
              <nav class="s130F_social_media_nav">
                <ul class="s130F_social_media_list">
                  <li class="s130F_social_media_item">
                    <a href="#" class="s130F_social_media_link">
                      <span class="s130F_social_media_icon">
                        <svg
                          xmlns="http://www.w3.org/2000/svg"
                          width="6.496"
                          height="14"
                          viewBox="0 0 6.496 14"
                        >
                          <path id="Path_1689" data-name="Path 1689"
                              d="M3.248-8.064H1.04V-9.52a.673.673,0,0,1,.208-.544.62.62,0,0,1,.4-.128H3.216v-2.4l-2.16-.016A3.071,3.071,0,0,0-.768-12.1a2.464,2.464,0,0,0-.88,1.152,3.587,3.587,0,0,0-.224,1.28v1.6H-3.248V-5.6h1.376V1.392H1.04V-5.6H2.992Z"
                              transform="translate(3.248 12.608)" fill="#95ca33" />
                        </svg>
                      </span>
                    </a>
                  </li>
                  <li class="s130F_social_media_item">
                    <a href="#" class="s130F_social_media_link">
                      <span class="s130F_social_media_icon">
                        <svg
                          xmlns="http://www.w3.org/2000/svg"
                          width="15"
                          height="15.824"
                          viewBox="0 0 15 15.824"
                        >
                          <path id="Path_1688" data-name="Path 1688"
                              d="M-.428-9.712a3.63,3.63,0,0,0-1.941.552,4.066,4.066,0,0,0-1.426,1.5,4.124,4.124,0,0,0-.531,2.056A4.171,4.171,0,0,0-3.8-3.552a3.987,3.987,0,0,0,1.426,1.5A3.681,3.681,0,0,0-.42-1.5a3.643,3.643,0,0,0,1.949-.552,4.006,4.006,0,0,0,1.418-1.5A4.171,4.171,0,0,0,3.47-5.608a4.171,4.171,0,0,0-.523-2.056,4.006,4.006,0,0,0-1.418-1.5A3.656,3.656,0,0,0-.428-9.712Zm0,6.64a2.241,2.241,0,0,1-1.206-.344,2.517,2.517,0,0,1-.88-.928,2.566,2.566,0,0,1-.326-1.272A2.521,2.521,0,0,1-2.513-6.88a2.535,2.535,0,0,1,.88-.92A2.241,2.241,0,0,1-.428-8.144,2.241,2.241,0,0,1,.778-7.8a2.535,2.535,0,0,1,.88.92,2.521,2.521,0,0,1,.326,1.264,2.566,2.566,0,0,1-.326,1.272,2.517,2.517,0,0,1-.88.928A2.241,2.241,0,0,1-.428-3.072ZM2.757-13.52h-6.37a4.024,4.024,0,0,0-2.169.624A4.4,4.4,0,0,0-7.344-11.24,4.655,4.655,0,0,0-7.92-8.96v6.7A4.655,4.655,0,0,0-7.344.024,4.4,4.4,0,0,0-5.781,1.68,4.024,4.024,0,0,0-3.613,2.3h6.37A4.1,4.1,0,0,0,4.941,1.68,4.489,4.489,0,0,0,6.488.048a4.694,4.694,0,0,0,.592-2.3v-6.7a4.694,4.694,0,0,0-.592-2.3A4.489,4.489,0,0,0,4.941-12.9,4.1,4.1,0,0,0,2.757-13.52ZM5.594-2.256a3.065,3.065,0,0,1-.379,1.5A2.885,2.885,0,0,1,4.183.336a2.675,2.675,0,0,1-1.426.4h-6.37a2.637,2.637,0,0,1-1.418-.4A2.905,2.905,0,0,1-6.054-.752a3.065,3.065,0,0,1-.379-1.5v-6.7a3.065,3.065,0,0,1,.379-1.5,2.905,2.905,0,0,1,1.024-1.088,2.637,2.637,0,0,1,1.418-.4h6.37a2.675,2.675,0,0,1,1.426.4,2.885,2.885,0,0,1,1.031,1.088,3.065,3.065,0,0,1,.379,1.5ZM3.531-10.912a.968.968,0,0,0-.728.32,1.077,1.077,0,0,0-.3.768,1.049,1.049,0,0,0,.3.76.979.979,0,0,0,.728.312.955.955,0,0,0,.72-.312,1.064,1.064,0,0,0,.3-.76,1.092,1.092,0,0,0-.3-.768A.944.944,0,0,0,3.531-10.912Z"
                              transform="translate(7.92 13.52)" fill="#95ca33" />
                        </svg>
                      </span>
                    </a>
                  </li>
                  <li class="s130F_social_media_item">
                    <a href="#" class="s130F_social_media_link">
                      <span class="s130F_social_media_icon">
                        <svg
                          xmlns="http://www.w3.org/2000/svg"
                          width="14.016"
                          height="11.376"
                          viewBox="0 0 14.016 11.376"
                        >
                          <path id="Path_1687" data-name="Path 1687"
                              d="M7.008-9.952a6.157,6.157,0,0,1-1.664.464,2.666,2.666,0,0,0,.776-.672,2.867,2.867,0,0,0,.488-.928,5.243,5.243,0,0,1-1.824.7,2.646,2.646,0,0,0-.936-.672,2.879,2.879,0,0,0-1.16-.24,2.755,2.755,0,0,0-1.44.392A2.923,2.923,0,0,0,.208-9.856a2.8,2.8,0,0,0-.384,1.44,2.9,2.9,0,0,0,.064.656,8.112,8.112,0,0,1-3.312-.9,8.193,8.193,0,0,1-2.608-2.112,2.9,2.9,0,0,0-.384,1.432A2.832,2.832,0,0,0-6.072-7.96a2.9,2.9,0,0,0,.936,1.032,2.609,2.609,0,0,1-1.3-.368v.048a2.777,2.777,0,0,0,.648,1.824,2.828,2.828,0,0,0,1.656.992,2.912,2.912,0,0,1-.768.1,2.7,2.7,0,0,1-.528-.048A2.772,2.772,0,0,0-4.416-2.968,2.786,2.786,0,0,0-2.752-2.4a5.505,5.505,0,0,1-1.656.912,5.779,5.779,0,0,1-1.912.32q-.208,0-.64-.032h-.048A8.025,8.025,0,0,0-2.592.08a8.283,8.283,0,0,0,3.5-.736,7.775,7.775,0,0,0,2.56-1.92A8.583,8.583,0,0,0,5.04-5.2a8.228,8.228,0,0,0,.528-2.88v-.384A5.792,5.792,0,0,0,7.008-9.952Z"
                              transform="translate(7.008 11.296)" fill="#95ca33" />
                        </svg>
                      </span>
                    </a>
                  </li>
                  <li class="s130F_social_media_item">
                    <a href="#" class="s130F_social_media_link">
                      <span class="s130F_social_media_icon">
                        <svg
                          xmlns="http://www.w3.org/2000/svg"
                          width="10.848"
                          height="14.004"
                          viewBox="0 0 10.848 14.004"
                        >
                          <path id="Path_1686" data-name="Path 1686"
                              d="M.336-12.608a6.306,6.306,0,0,0-3.2.8,5.218,5.218,0,0,0-1.92,1.9,4.616,4.616,0,0,0-.64,2.32,4.175,4.175,0,0,0,.4,1.888A2.326,2.326,0,0,0-3.776-4.512.312.312,0,0,0-3.52-4.5.261.261,0,0,0-3.376-4.7l.176-.64a.532.532,0,0,0,.008-.24.637.637,0,0,0-.136-.208,2.406,2.406,0,0,1-.528-1.584,3.907,3.907,0,0,1,.488-1.912A3.6,3.6,0,0,1-2-10.688a4.1,4.1,0,0,1,2.112-.544,3.776,3.776,0,0,1,1.824.416,2.69,2.69,0,0,1,1.128,1.08,3.188,3.188,0,0,1,.392,1.592A6.849,6.849,0,0,1,3.136-6a3.709,3.709,0,0,1-.9,1.536A1.853,1.853,0,0,1,.9-3.872,1.32,1.32,0,0,1,.16-4.08a1.233,1.233,0,0,1-.472-.568,1.235,1.235,0,0,1-.056-.776q.1-.384.336-1.152Q.16-7.2.24-7.488a3.606,3.606,0,0,0,.112-.784A1.265,1.265,0,0,0,.08-9.12a.976.976,0,0,0-.816-.368,1.251,1.251,0,0,0-.784.272,1.86,1.86,0,0,0-.56.752,2.669,2.669,0,0,0-.208,1.072,3.337,3.337,0,0,0,.064.656,2.747,2.747,0,0,0,.128.448l.064.16-1.04,4.384A8.421,8.421,0,0,0-3.1,1.216l.016.1a.1.1,0,0,0,.08.08A.111.111,0,0,0-2.9,1.36l.048-.048A8.075,8.075,0,0,0-1.44-1.28l.56-2.208a1.7,1.7,0,0,0,.768.712,2.53,2.53,0,0,0,1.2.3A3.758,3.758,0,0,0,3.36-3.216a4.717,4.717,0,0,0,1.512-1.96A6.948,6.948,0,0,0,5.424-8a4.321,4.321,0,0,0-.64-2.264,4.539,4.539,0,0,0-1.76-1.672A5.406,5.406,0,0,0,.336-12.608Z"
                              transform="translate(5.424 12.608)" fill="#95ca33" />
                        </svg>
                      </span>
                    </a>
                  </li>
                  <li class="s130F_social_media_item">
                    <a href="#" class="s130F_social_media_link">
                      <span class="s130F_social_media_icon">
                        <svg
                          xmlns="http://www.w3.org/2000/svg"
                          width="13.92"
                          height="14.016"
                          viewBox="0 0 13.92 14.016"
                        >
                          <path id="Path_1685" data-name="Path 1685"
                              d="M5.936-12.608H-5.92a1.016,1.016,0,0,0-.736.3.958.958,0,0,0-.3.712V.4a.958.958,0,0,0,.3.712,1.016,1.016,0,0,0,.736.3H5.936a1,1,0,0,0,.72-.3A.958.958,0,0,0,6.96.4v-12a.958.958,0,0,0-.3-.712A1,1,0,0,0,5.936-12.608ZM-2.736-.88h-2.1V-7.2h2.1ZM-3.792-8.064h-.016a1.141,1.141,0,0,1-.832-.312,1.049,1.049,0,0,1-.32-.784,1.037,1.037,0,0,1,.328-.784,1.191,1.191,0,0,1,.856-.312,1.163,1.163,0,0,1,.848.312,1.049,1.049,0,0,1,.32.784,1.049,1.049,0,0,1-.32.784A1.185,1.185,0,0,1-3.792-8.064ZM4.832-.88h-2.1V-4.272A1.816,1.816,0,0,0,2.5-5.3a.921.921,0,0,0-.816-.4,1.1,1.1,0,0,0-.7.24,1.5,1.5,0,0,0-.384.528,1.665,1.665,0,0,0-.064.512V-.88h-2.1V-3.824q.016-3.008,0-3.376h2.1v.9a2.1,2.1,0,0,1,1.888-1.04,2.246,2.246,0,0,1,1.728.688,3.065,3.065,0,0,1,.688,2.144Z"
                              transform="translate(6.96 12.608)" fill="#95ca33" />
                        </svg>
                      </span>
                    </a>
                  </li>
                </ul>
              </nav>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<script>
  let product = {{ product |  json }}

  document.querySelectorAll('.product_option input[type="radio"]').forEach(radio =>{
    radio.addEventListener("change" , function(){

    //  selected option empty obj.
    let selctedOptions = [];
    document.querySelectorAll('.product_option input[type="radio"]:checked').forEach(radio =>{
      selctedOptions.push(radio.value);
    });

    let matchedVarient = product.variants.find(varient =>{
      let pass = true
      for (let i = 0; i < selctedOptions.length; i++) {
       if(selctedOptions.indexOf(varient.options[i]) === -1 ){
            pass = false
            break;
       }

      }
      return pass
    })
    console.log("matchedVarient" , matchedVarient);
    // update product form variant id
    document.getElementById("product_variant_id").value = matchedVarient.id

    //price chnage 
    document.querySelector(".compare_price").textContent = formatMoney(matchedVarient.price,"{{ shop.money_format }}") ;
    document.querySelector(".product_price").textContent = formatMoney(matchedVarient.compare_at_price,"{{ shop.money_format }}") ;


    //disabled add to cart button when selecte4d variant is not available
    if(matchedVarient.available == false){
      document.querySelector(".s130F_cart_btn").classList.add("btn_disabled")
      document.querySelector(".s130F_cart_btn").setAttribute("disabled" , true)
    }else{
      document.querySelector(".s130F_cart_btn").classList.remove("btn_disabled");
      document.querySelector(".s130F_cart_btn").removeAttribute("disabled" , true)
    }

    // img update
    const display_img = document.getElementById("display_img");
   if(matchedVarient.featured_image){
    display_img.src = `${matchedVarient.featured_image.src}`;
   }else{
    display_img.src = `${product.featured_image}`;
   }
    


    });
  });

  document.querySelectorAll(".s0210_single_image img").forEach(img =>{
    img.addEventListener("click" , function(){
      const display_img = document.getElementById("display_img");
      display_img.src = img.src;
    })
  });
</script>
